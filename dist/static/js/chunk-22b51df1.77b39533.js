(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22b51df1"],{"65f9":function(e,t,n){},8900:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lmsg"},[n("el-row",{staticClass:"title"},[n("span",{staticClass:"n1"},[e._v("留言")]),n("span",{staticClass:"n2"},[e._v("时间最会骗人，但也能让你明白，这个世界没有什么不能失去的，离去的都是风景，留下的才是人生，走到最后的，就是对的人。")])]),n("el-row",{attrs:{gutter:40}},[n("el-col",{staticClass:"liuyanbox",attrs:{span:16}},[n("div",{staticClass:"pl"},[e._l(e.commentList,function(t,a){return n("p",{key:t.id+a,staticClass:"fb"},[n("ul",[n("p",{staticClass:"fbtime"},[n("span",[e._v("\n                发表于 "+e._s(e.dateParse(t.ctime))+"\n                "),n("i",{staticClass:"reply",on:{click:function(n){return e.replyFunc(t.id,t.username)}}},[e._v("回复")])]),e._v("\n              "+e._s(t.username)+": "+e._s(t.options)+"\n            ")]),n("p",{staticClass:"fbinfo"},[e._v(e._s(t.comments))])])])}),n("p",{staticClass:"saying"},[n("span",[e._v("\n            共有\n            "+e._s(e.commentList.length)+"条留言\n          ")]),e._v("来说两句吧...\n        ")]),n("p",{staticClass:"yname"},[n("span",[e._v("姓名:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.commentName,expression:"commentName"}],staticClass:"inputText",attrs:{placeholder:"不超过16个字符"},domProps:{value:e.commentName},on:{input:function(t){t.target.composing||(e.commentName=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.reply,expression:"reply"}],attrs:{type:"hidden"},domProps:{value:e.reply},on:{input:function(t){t.target.composing||(e.reply=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.replyname,expression:"replyname"}],attrs:{type:"hidden"},domProps:{value:e.replyname},on:{input:function(t){t.target.composing||(e.replyname=t.target.value)}}})]),n("p",{staticClass:"yname"},[n("span",[e._v("邮箱:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.commentEmail,expression:"commentEmail"}],staticClass:"inputText",attrs:{placeholder:"不超过50个字符"},domProps:{value:e.commentEmail},on:{input:function(t){t.target.composing||(e.commentEmail=t.target.value)}}})]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.commentContent,expression:"commentContent"}],attrs:{cols:"60",rows:"12",placeholder:"不超过50个字"},domProps:{value:e.commentContent},on:{input:function(t){t.target.composing||(e.commentContent=t.target.value)}}}),n("p",{staticClass:"yname"},[n("span",[e._v("验证码:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.mycode,expression:"mycode"}],ref:"send_comment",staticClass:"inputText",attrs:{placeholder:"请输入验证码"},domProps:{value:e.mycode},on:{input:function(t){t.target.composing||(e.mycode=t.target.value)}}}),n("span",{domProps:{innerHTML:e._s(e.vcode)},on:{click:function(t){return e.changeCode()}}})]),n("button",{staticClass:"submit",on:{click:function(t){return e.commentBlog()}}},[e._v("提交")])],2)]),n("el-col",{attrs:{span:8}},[n("zhuanti",{ref:"fixed",attrs:{title:"关注我 么么哒"}},[n("guanzhu")],1)],1)],1)],1)},o=[],s=(n("d263"),n("52b5")),i=n("6847"),m=n("bc3a"),c=n.n(m),r={created:function(){var e=this;c.a.get("/api/queryRandomCode").then(function(t){e.vcode=t.data.data,e.rightCode=t.data.text}),c.a.get("/api/getblogbyid",{params:{id:-1}}).then(function(t){e.articleDetail=t.data.data.article}),c.a.get("/api/queryCommentsByBlogId",{params:{blog_id:-1}}).then(function(t){e.commentList=t.data.data;for(var n=0;n<e.commentList.length;n++)e.commentList[n].parent>-1&&(e.commentList[n].options="回复@"+e.commentList[n].parent_name)})},components:{zhuanti:s["a"],guanzhu:i["a"]},data:function(){return{commentName:"",commentContent:"",commentEmail:"",rightCode:"",commentList:[{id:0,username:"xxx",comments:"sss",parent:"2",ctime:11111111111}],vcode:"",mycode:"",reply:"-1",replyname:"0"}},methods:{handleScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;if(e>=70){var t=e-70;this.$refs.fixed.$el.style.marginTop=20+t+"px"}else this.$refs.fixed.$el.style.marginTop="20px"},changeCode:function(){var e=this;c.a.get("/api/queryRandomCode").then(function(t){e.vcode=t.data.data,e.rightCode=t.data.text})},replyFunc:function(e,t){this.reply=e,this.replyname=t;var n=this.$refs.send_comment;scrollTo(0,n.offsetTop)},commentBlog:function(){var e=this;this.rightCode==this.mycode?this.commentName.length>0&&this.commentContent.length>0?c.a.get("/api/addcomment"+"?id=-1&parent=".concat(this.reply,"&parent_name=").concat(this.replyname,"&name=").concat(this.commentName,"&email=").concat(this.commentEmail,"&content=").concat(this.commentContent)).then(function(t){"success"==t.data.status?(e.$message({message:"提交成功",type:"success"}),e.replyname="0",e.reply="-1"):e.$message("出了一点点小错误，请稍后再试")}):this.$message.error("姓名与内容不能为空"):this.$message.error("验证码不正确")},dateParse:function(e){var t=new Date(1e3*e),n=t.getFullYear()+"-",a=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",o=t.getDate()+" ";return n+a+o},mounted:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}}},l=r,d=(n("d074"),n("2877")),p=Object(d["a"])(l,a,o,!1,null,null,null);t["default"]=p.exports},d074:function(e,t,n){"use strict";var a=n("65f9"),o=n.n(a);o.a}}]);
//# sourceMappingURL=chunk-22b51df1.77b39533.js.map