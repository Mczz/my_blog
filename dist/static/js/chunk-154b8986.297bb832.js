(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-154b8986"],{"4fcf":function(t,e,a){},"8bf0":function(t,e,a){"use strict";var n=a("4fcf"),s=a.n(n);s.a},edc1:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blogdetail"},[a("el-row",{staticClass:"title"},[a("span",{staticClass:"n1"},[t._v("文章详情")]),a("span",{staticClass:"n2"},[t._v("时间最会骗人，但也能让你明白，这个世界没有什么不能失去的，离去的都是风景，留下的才是人生，走到最后的，就是对的人。")])]),a("el-row",{attrs:{gutter:40}},[a("el-col",{staticClass:"articlebox",attrs:{span:16}},[a("div",{staticClass:"article"},[a("h3",{staticClass:"blogtitle"},[t._v(t._s(t.articleDetail.title))]),a("div",{staticClass:"bloginfo"},[a("ul",[a("li",{staticClass:"author"}),a("li",{staticClass:"lmname",on:{click:function(e){return t.openTags(t.articleDetail.tagId)}}},[t._v(t._s(t.articleDetail.tagname))]),a("li",{staticClass:"timer"},[t._v(t._s(t.dateParse(t.articleDetail.ctime)))]),a("li",{staticClass:"view"},[a("span",[t._v(t._s(t.articleDetail.view))]),t._v("已阅读\n            ")]),a("li",{staticClass:"like"},[t._v(t._s(t.articleDetail.like))])])]),a("p",{staticClass:"blogtext",domProps:{innerHTML:t._s(t.articleDetail.content)}})]),a("div",{staticClass:"share"},[a("el-button",{staticClass:"diggit",attrs:{plain:!0},on:{click:function(e){return t.thumbsUp(t.articleDetail.id)}}},[t._v("很赞哦！")])],1),a("div",{staticClass:"pl"},[a("h2",[t._v("文章评论")]),a("p",{staticClass:"saying"},[a("span",[t._v("\n            共有\n            "+t._s(t.commentList.length)+"条评论\n          ")]),t._v("来说两句吧...\n        ")]),t._l(t.commentList,function(e,n){return a("p",{key:e.id+n,staticClass:"fb"},[a("ul",[a("p",{staticClass:"fbtime"},[a("span",[t._v("\n                发表于 "+t._s(t.dateParseSec(e.ctime))+"\n                "),a("i",{staticClass:"reply",on:{click:function(a){return t.replyFunc(e.id,e.username)}}},[t._v("回复")])]),t._v("\n              "+t._s(e.username)+": "+t._s(e.options)+"\n            ")]),a("p",{staticClass:"fbinfo"},[t._v(t._s(e.comments))])])])}),a("p",{staticClass:"yname"},[a("span",[t._v("姓名:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.commentName,expression:"commentName"}],staticClass:"inputText",attrs:{placeholder:"不超过16个字符"},domProps:{value:t.commentName},on:{input:function(e){e.target.composing||(t.commentName=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.reply,expression:"reply"}],attrs:{type:"hidden"},domProps:{value:t.reply},on:{input:function(e){e.target.composing||(t.reply=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.replyname,expression:"replyname"}],attrs:{type:"hidden"},domProps:{value:t.replyname},on:{input:function(e){e.target.composing||(t.replyname=e.target.value)}}})]),a("p",{staticClass:"yname"},[a("span",[t._v("邮箱:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.commentEmail,expression:"commentEmail"}],staticClass:"inputText",attrs:{placeholder:"不超过50个字符"},domProps:{value:t.commentEmail},on:{input:function(e){e.target.composing||(t.commentEmail=e.target.value)}}})]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],attrs:{cols:"60",rows:"12",placeholder:"不超过50个字"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),a("p",{staticClass:"yname"},[a("span",[t._v("验证码:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mycode,expression:"mycode"}],ref:"send_comment",staticClass:"inputText",attrs:{placeholder:"请输入验证码"},domProps:{value:t.mycode},on:{input:function(e){e.target.composing||(t.mycode=e.target.value)}}}),a("span",{domProps:{innerHTML:t._s(t.vcode)},on:{click:function(e){return t.changeCode()}}})]),a("button",{staticClass:"submit",on:{click:function(e){return t.commentBlog(t.articleDetail.id)}}},[t._v("提交")])],2)]),a("el-col",{attrs:{span:8}},[a("zhuanti",{attrs:{title:"推荐文章"}},[a("recommend")],1)],1)],1)],1)},s=[],i=a("52b5"),o=a("bca1"),c=a("bc3a"),l=a.n(c),m={created:function(){var t=this;this.id=this.$route.params.id,l.a.get("/api/queryRandomCode").then(function(e){t.vcode=e.data.data,t.rightCode=e.data.text}),l.a.get("/api/getblogbyid",{params:{id:this.id}}).then(function(e){t.articleDetail=e.data.data.article}),l.a.get("/api/queryCommentsByBlogId",{params:{blog_id:this.id}}).then(function(e){t.commentList=e.data.data;for(var a=0;a<t.commentList.length;a++)t.commentList[a].parent>-1&&(t.commentList[a].options="回复@"+t.commentList[a].parent_name)})},data:function(){return{commentName:"",commentContent:"",commentEmail:"",rightCode:"",commentList:[],vcode:"",mycode:"",id:1,articleDetail:{},reply:"-1",replyname:"0"}},methods:{openTags:function(t){this.$store.dispatch("getTagBlog",t),this.$router.push({name:"tagblog",params:{id:t}})},thumbsUp:function(t){var e=this;l.a.get("/api/thumbup?id=".concat(t)).then(function(t){"success"==t.data.status?e.$message({message:"感谢您的支持!",type:"success"}):e.$message("出了一点点小错误，请稍后再试")})},replyFunc:function(t,e){this.reply=t,this.replyname=e;var a=this.$refs.send_comment;scrollTo(0,a.offsetTop)},changeCode:function(){var t=this;l.a.get("/api/queryRandomCode").then(function(e){t.vcode=e.data.data,t.rightCode=e.data.text})},commentBlog:function(t){var e=this;this.rightCode==this.mycode?this.commentName.length>0&&this.commentContent.length>0?l.a.get("/api/addcomment"+"?id=".concat(t,"&parent=").concat(this.reply,"&parent_name=").concat(this.replyname,"&name=").concat(this.commentName,"&email=").concat(this.commentEmail,"&content=").concat(this.commentContent)).then(function(t){"success"==t.data.status?(e.$message({message:"提交成功",type:"success"}),e.replyname="0",e.reply="-1"):e.$message("出了一点点小错误，请稍后再试")}):this.$message.error("姓名与内容不能为空"):this.$message.error("验证码不正确")},dateParse:function(t){var e=new Date(1e3*t),a=e.getFullYear()+"-",n=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",s=e.getDate()+" ";return a+n+s},dateParseSec:function(t){var e=new Date(1e3*t),a=e.getFullYear()+"-",n=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",s=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",i=e.getHours()+":",o=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",c=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return a+n+s+i+o+c}},components:{zhuanti:i["a"],recommend:o["a"]}},r=m,u=(a("8bf0"),a("2877")),p=Object(u["a"])(r,n,s,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-154b8986.297bb832.js.map